import{exact as e,number as t,string as i,oneOf as r,arrayOf as a}from"prop-types";import o,{useState as n}from"react";import l from"react-ace";import"ace-builds/src-noconflict/theme-monokai";!function(e,t){void 0===t&&(t={});var i=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===i&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}(":root{--timeline-bar-height:20px;--timeline-cursor-height:30px}.timeline-wrapper{margin:0 auto;position:relative;width:1100px}.timeline-bar{background-color:#a9a9a9;height:20px;position:relative}.timeline-cursor{border-radius:50%;height:30px;left:0;top:calc(var(--timeline-bar-height)/2 - var(--timeline-cursor-height)/2);width:30px}.timeline-cursor,.timeline-item{cursor:pointer;position:absolute}.timeline-item{height:100%;width:3px}.red{background-color:red}.white{background-color:#676767}.blue{background-color:#1b36ba}.timeslot{background-color:#fff;display:none;padding:.3rem 0;position:absolute;right:-13.5px;top:-20px;width:30px;z-index:5}.timeslot p{font-size:10px;margin:0;text-align:center}.timeline-item:hover .timeslot{display:block}.copy-paste-marker{background-color:#bd2e4c5e;position:absolute}"),window.ace.config.set("basePath","https://cdn.jsdelivr.net/npm/ace-builds@1.4.13/src-noconflict/");const s=({timelineArray:e,duration:t,language:i="javascript"})=>{const[r,a]=n(e?.[0]),s=e=>{switch(e){case"PASTE":return"red";case"TYPE":default:return"white";case"TEST":return"blue"}};return o.createElement("div",{className:"timeline-wrapper"},o.createElement(l,{mode:r?.lang??i,theme:"monokai",name:"brace-editor",style:{width:e?"calc(100% + 3px)":"100%"},tabSize:4,readOnly:!0,highlightActiveLine:!1,value:r?.code??"",markers:r?.markers??[]}),o.createElement("div",{className:"timeline-bar"},e&&e.map(((i,r)=>o.createElement("div",{className:`timeline-item ${s(i.actionType)}`,key:`${i.lang}-${r}`,style:{left:i.time/t*100+"%"},onClick:()=>a(e[r])},o.createElement("div",{className:"timeslot"},o.createElement("p",null,(e=>{const t=e%3600;return Math.floor(e/3600)+":"+Math.floor(t/60)+":"+t%60})(i.time))))))))},c=e({startRow:t.isRequired,endRow:t.isRequired,startCol:t.isRequired,endCol:t.isRequired,className:i.isRequired,type:r(["text","fullLine","screenLine"])}),d=e({actionType:r(["PASTE","TEST","TYPE"]).isRequired,code:i.isRequired,time:t.isRequired,lang:i,markers:a(c)});s.propTypes={timelineArray:a(d).isRequired,duration:t.isRequired,language:i};export{s as default};
